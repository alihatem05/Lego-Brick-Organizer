# LEGO Brick Finder - System Architecture

## ðŸ“Š System Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     LEGO BRICK FINDER SYSTEM                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: DATA PREPARATION                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Raw Images]  â”€â”€>  prepare_dataset.py  â”€â”€>  [Demo Dataset]     â”‚
â”‚       â”‚                                            â”‚              â”‚
â”‚       â”‚                                            â”‚              â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€>  create_crops.py  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                          â”‚                                        â”‚
â”‚                          â–¼                                        â”‚
â”‚                  [Cropped Images]                                â”‚
â”‚                  (data/crops/)                                   â”‚
â”‚                  - Class 1/                                      â”‚
â”‚                  - Class 2/                                      â”‚
â”‚                  - ...                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: FEATURE EXTRACTION                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Cropped Images]                                                â”‚
â”‚         â”‚                                                         â”‚
â”‚         â””â”€â”€>  preprocessing.py  â”€â”€>  [Preprocessed Images]      â”‚
â”‚                    â”‚                         â”‚                   â”‚
â”‚                    â”‚  â€¢ Resize              â”‚                   â”‚
â”‚                    â”‚  â€¢ Normalize           â”‚                   â”‚
â”‚                    â”‚  â€¢ Color conversion    â”‚                   â”‚
â”‚                    â”‚                         â”‚                   â”‚
â”‚                    â–¼                         â–¼                   â”‚
â”‚              features.py                                         â”‚
â”‚                    â”‚                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚         â”‚          â”‚          â”‚                                 â”‚
â”‚         â–¼          â–¼          â–¼                                 â”‚
â”‚    [Color]    [Texture]   [Shape]                               â”‚
â”‚     - HSV      - HOG       - Hu                                 â”‚
â”‚     - RGB      - LBP       - Edge                               â”‚
â”‚                                                                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                    â–¼                                             â”‚
â”‚            [Feature Vector]                                      â”‚
â”‚            (2319 features)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: FEATURE SELECTION (Optional)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Feature Vector (2319)]                                         â”‚
â”‚         â”‚                                                         â”‚
â”‚         â””â”€â”€>  feature_selection.py                              â”‚
â”‚                    â”‚                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚         â”‚          â”‚          â”‚                                 â”‚
â”‚         â–¼          â–¼          â–¼                                 â”‚
â”‚    Variance   SelectKBest    RFE                                â”‚
â”‚   Threshold   Mutual Info    PCA                                â”‚
â”‚                                                                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                    â–¼                                             â”‚
â”‚        [Selected Features]                                       â”‚
â”‚           (50-100 features)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: MODEL TRAINING                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Features] â”€â”€> [Train/Val/Test Split (70/15/15)]               â”‚
â”‚                           â”‚                                       â”‚
â”‚                           â””â”€â”€>  train.py                         â”‚
â”‚                                     â”‚                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚         â”‚           â”‚           â”‚      â”‚           â”‚          â”‚â”‚
â”‚         â–¼           â–¼           â–¼      â–¼           â–¼          â–¼â”‚
â”‚   [Decision    [Random     [XGBoost] [KNN]     [SVM]     [ANN] â”‚
â”‚     Tree]      Forest]                                          â”‚
â”‚         â”‚           â”‚           â”‚      â”‚           â”‚          â”‚ â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â–¼                              â”‚
â”‚                          [Trained Models]                        â”‚
â”‚                           (models/*.pkl)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 5: MODEL EVALUATION                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Trained Models] + [Test Data]                                 â”‚
â”‚         â”‚                                                         â”‚
â”‚         â””â”€â”€>  evaluate.py                                       â”‚
â”‚                    â”‚                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚         â”‚          â”‚          â”‚                                 â”‚
â”‚         â–¼          â–¼          â–¼                                 â”‚
â”‚   [Accuracy]  [Confusion]  [Metrics]                            â”‚
â”‚   [Precision]  [Matrix]    [Plots]                              â”‚
â”‚   [Recall]                                                       â”‚
â”‚   [F1-Score]                                                     â”‚
â”‚                                                                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                    â–¼                                             â”‚
â”‚        [Evaluation Results]                                      â”‚
â”‚   (models/evaluation_results/)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 6: REAL-TIME DETECTION                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  [Webcam] â”€â”€>  realtime_detection.py                            â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â”œâ”€â”€> [Load Best Model]                  â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â”œâ”€â”€> [Capture Frame]                    â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â”œâ”€â”€> [Preprocess]                       â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â”œâ”€â”€> [Extract Features]                 â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â”œâ”€â”€> [Predict]                          â”‚
â”‚                         â”‚                                         â”‚
â”‚                         â””â”€â”€> [Display Result]                   â”‚
â”‚                                    â”‚                              â”‚
â”‚                                    â–¼                              â”‚
â”‚                        [Live LEGO Detection]                     â”‚
â”‚                        with Confidence Score                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Data Flow

```
Raw Images â†’ Cropping â†’ Preprocessing â†’ Feature Extraction â†’ 
Feature Selection â†’ Model Training â†’ Evaluation â†’ Real-time Detection
```

## ðŸ—ï¸ Module Interaction

```
main.py (Orchestrator)
    â”‚
    â”œâ”€â”€> prepare_dataset.py â”€â”€> create_crops.py
    â”‚                                 â”‚
    â”‚                                 â–¼
    â”œâ”€â”€> preprocessing.py â”€â”€â”€â”€â”€â”€> features.py
    â”‚                                 â”‚
    â”‚                                 â–¼
    â”œâ”€â”€> feature_selection.py <â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚            â”‚
    â”‚            â–¼
    â”œâ”€â”€> train.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> evaluate.py
    â”‚       â”‚                          â”‚
    â”‚       â”‚                          â”‚
    â”‚       â””â”€â”€> [Models] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â”‚
    â”‚                â–¼
    â””â”€â”€> realtime_detection.py
              â”‚
              â””â”€â”€> [Live Predictions]
```

## ðŸ“¦ Component Details

### Data Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   data/             â”‚
â”‚   â”œâ”€â”€ raw/          â”‚  â† Original images + annotations
â”‚   â””â”€â”€ crops/        â”‚  â† Processed, labeled crops
â”‚       â”œâ”€â”€ class1/   â”‚
â”‚       â”œâ”€â”€ class2/   â”‚
â”‚       â””â”€â”€ ...       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Processing Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Image Processing Pipeline       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Load Image (utils.py)        â”‚
â”‚  2. Preprocess (preprocessing.py)â”‚
â”‚  3. Extract Features (features.pyâ”‚
â”‚  4. Standardize (features.py)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Model Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   models/                        â”‚
â”‚   â”œâ”€â”€ decision_tree.pkl          â”‚
â”‚   â”œâ”€â”€ random_forest.pkl          â”‚
â”‚   â”œâ”€â”€ xgboost.pkl                â”‚
â”‚   â”œâ”€â”€ knn.pkl                    â”‚
â”‚   â”œâ”€â”€ svm.pkl                    â”‚
â”‚   â”œâ”€â”€ ann.pkl                    â”‚
â”‚   â”œâ”€â”€ scaler.pkl                 â”‚
â”‚   â”œâ”€â”€ class_names.pkl            â”‚
â”‚   â””â”€â”€ evaluation_results/        â”‚
â”‚       â”œâ”€â”€ *.png (plots)          â”‚
â”‚       â””â”€â”€ *.csv (metrics)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ¯ Feature Extraction Pipeline

```
Input Image (128x128x3)
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                   â”‚
        â–¼                                   â–¼
  [Color Features]                  [Spatial Features]
        â”‚                                   â”‚
        â”œâ”€> HSV Histogram (512)            â”œâ”€> HOG (1764)
        â”œâ”€> Color Moments (9)              â”œâ”€> LBP (26)
        â”‚                                   â”œâ”€> Edges (1)
        â”‚                                   â””â”€> Hu Moments (7)
        â”‚                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              [Concatenated Features]
                   (2319 total)
                        â”‚
                        â–¼
                 [Standardization]
                        â”‚
                        â–¼
              [Optional: Selection]
                        â”‚
                        â–¼
                   [Training]
```

## ðŸ¤– Classification Pipeline

```
Input: Test Image
       â”‚
       â–¼
[Preprocessing]
       â”‚
       â–¼
[Feature Extraction]
       â”‚
       â–¼
[Feature Standardization]
       â”‚
       â–¼
[Feature Selection] (if used)
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚       â”‚         â”‚         â”‚         â”‚         â”‚
       â–¼       â–¼         â–¼         â–¼         â–¼         â–¼
     [DT]    [RF]     [XGB]     [KNN]     [SVM]     [ANN]
       â”‚       â”‚         â”‚         â”‚         â”‚         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                   [Prediction Results]
                           â”‚
                           â”œâ”€> Class Label
                           â”œâ”€> Confidence Score
                           â””â”€> Probabilities
```

## ðŸ”„ Training Loop

```
For each epoch:
    â”‚
    â”œâ”€> Load batch of images
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€> Extract features
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€> Forward pass
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€> Compute loss
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€> Update weights
    â”‚       â”‚
    â”‚       â–¼
    â””â”€> Validate
            â”‚
            â””â”€> Save best model
```

## ðŸ“Š Evaluation Metrics Flow

```
[Predictions] + [Ground Truth]
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                               â”‚
        â–¼                               â–¼
[Confusion Matrix]              [Scalar Metrics]
        â”‚                               â”‚
        â”œâ”€> True Positives             â”œâ”€> Accuracy
        â”œâ”€> True Negatives             â”œâ”€> Precision
        â”œâ”€> False Positives            â”œâ”€> Recall
        â””â”€> False Negatives            â””â”€> F1-Score
        â”‚                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            [Visualizations]
                    â”‚
                    â”œâ”€> Heatmaps
                    â”œâ”€> Bar Charts
                    â””â”€> Comparison Plots
```

## ðŸŽ¥ Real-Time Detection Flow

```
Camera Feed
     â”‚
     â–¼
[Capture Frame] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                        â”‚
     â–¼                        â”‚
[Preprocess]                 â”‚
     â”‚                        â”‚
     â–¼                        â”‚
[Extract Features]            â”‚
     â”‚                        â”‚
     â–¼                        â”‚
[Predict Class]              â”‚
     â”‚                        â”‚
     â”œâ”€> Class Name           â”‚
     â”œâ”€> Confidence           â”‚
     â””â”€> Probabilities        â”‚
     â”‚                        â”‚
     â–¼                        â”‚
[Overlay Info]               â”‚
     â”‚                        â”‚
     â–¼                        â”‚
[Display Frame] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â””â”€> Repeat
```

## ðŸ—‚ï¸ File Dependencies

```
main.py
 â”œâ”€â”€ prepare_dataset.py
 â”‚   â”œâ”€â”€ utils.py
 â”‚   â””â”€â”€ configs.py
 â”‚
 â”œâ”€â”€ create_crops.py
 â”‚   â”œâ”€â”€ utils.py
 â”‚   â””â”€â”€ configs.py
 â”‚
 â”œâ”€â”€ train.py
 â”‚   â”œâ”€â”€ preprocessing.py
 â”‚   â”œâ”€â”€ features.py
 â”‚   â”œâ”€â”€ feature_selection.py
 â”‚   â”œâ”€â”€ utils.py
 â”‚   â””â”€â”€ configs.py
 â”‚
 â”œâ”€â”€ evaluate.py
 â”‚   â”œâ”€â”€ utils.py
 â”‚   â””â”€â”€ configs.py
 â”‚
 â””â”€â”€ realtime_detection.py
     â”œâ”€â”€ preprocessing.py
     â”œâ”€â”€ features.py
     â”œâ”€â”€ utils.py
     â””â”€â”€ configs.py
```

## ðŸ’¾ Data Persistence

```
Filesystem Structure:
    â”‚
    â”œâ”€â”€ data/
    â”‚   â”œâ”€â”€ raw/           (input)
    â”‚   â”œâ”€â”€ crops/         (processed)
    â”‚   â””â”€â”€ classes.txt    (metadata)
    â”‚
    â”œâ”€â”€ models/
    â”‚   â”œâ”€â”€ *.pkl          (trained models)
    â”‚   â””â”€â”€ evaluation_results/
    â”‚       â”œâ”€â”€ *.png      (visualizations)
    â”‚       â””â”€â”€ *.csv      (metrics)
    â”‚
    â””â”€â”€ captures/          (real-time captures)
```

## ðŸ”§ Configuration Flow

```
configs.py
    â”‚
    â”œâ”€â”€> All Modules Read Config
    â”‚
    â”œâ”€â”€> Paths
    â”‚    â”œâ”€â”€ RAW_DATA_DIR
    â”‚    â”œâ”€â”€ CROPS_DIR
    â”‚    â””â”€â”€ MODEL_OUT_DIR
    â”‚
    â”œâ”€â”€> Hyperparameters
    â”‚    â”œâ”€â”€ IMAGE_SIZE
    â”‚    â”œâ”€â”€ BATCH_SIZE
    â”‚    â”œâ”€â”€ TEST_SIZE
    â”‚    â””â”€â”€ VAL_SIZE
    â”‚
    â””â”€â”€> Settings
         â”œâ”€â”€ RANDOM_STATE
         â””â”€â”€ NUM_EPOCHS
```

---

This architecture ensures:
- âœ… Modularity
- âœ… Scalability
- âœ… Maintainability
- âœ… Extensibility
- âœ… Clarity
